<page-title name="Wines"></page-title>

<general-error [errors]="errors"></general-error>

<section *ngIf="showOverview">
  <mat-card *ngFor="let wineType of model.wineTypes">
    <mat-card-header>
      <mat-card-title>{{wineType.name}}</mat-card-title>
      <mat-card-subtitle>{{wineType.description}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content (click)="onContentClick($event)">
      <mat-expansion-panel style="margin-top: 0.5em" *ngFor="let wine of wineType.wines">
        <mat-expansion-panel-header>
          <img style="border-radius: 50%; height: 35px; width: 35px" *ngIf="wine.photo?.location" [src]="wine.photo.location">
          <div style="align-self: center; margin-left: 1em">{{wine.name}}</div>
        </mat-expansion-panel-header>

        <section>
          <img style="display: block;margin: 0 auto;" *ngIf="wine.photo?.location" [src]="wine.photo.location" [height]="wine.photo.height"
            [width]="wine.photo.width">
          <div style="margin-top: 1em" [innerHTML]="wine.sanitizedDescription"></div>
        </section>
      </mat-expansion-panel>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="onOKClick()">OK</button>
    </mat-card-actions>
  </mat-card>
</section>

<mat-card *ngIf="!showOverview">
  <mat-card-header>
    <mat-card-title>{{wineName}}</mat-card-title>
  </mat-card-header>
  <mat-card-content (click)="onContentClick($event)">
    <p [innerHTML]="sanitizedDescription"></p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button color="accent" (click)="onOKClick()">OK</button>
  </mat-card-actions>
</mat-card>
